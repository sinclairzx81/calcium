/// <reference path="../decl/references.ts" />

module calcium.editor.routers 
{
    export class Editor extends calcium.web.Router 
    {
        constructor()  
        {     
            super();
            
            this.get('/', (context) => { this.index(context); });
        }

        public index(context:calcium.web.Context) : void {
            
            calcium.template.storage = context.storage;
            
            calcium.template.render('/views/index.html', null, (content) => {
                    
                context.response.writeHead(200, {'content-type' : 'text/html'});

                context.response.end(content);
            });                
        }

    }
}