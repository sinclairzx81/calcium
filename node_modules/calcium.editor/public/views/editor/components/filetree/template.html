<!-- StorageModel Template -->

    <script type="text/html" id="template.storage">
        
    <div data-bind="if: loading">

        <!-- ko if: expanded() -->

        <a href="#" data-bind="click: toggle"><img class='icon-space' src="/public/views/editor/components/filetree/assets/preloader.gif" /><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

        <!-- ko ifnot: expanded() -->

        <a href="#" data-bind="click: toggle"><img class='icon-space' src="/public/views/editor/components/filetree/assets/preloader.gif" /><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

    </div>

    <div data-bind="ifnot: loading">
            
        <!-- ko if: expanded() -->

        <a href="#" data-bind="click: toggle"><i class="icon-chevron-down"></i><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

        <!-- ko ifnot: expanded() -->

        <a href="#" data-bind="click: toggle"><i class="icon-chevron-right"></i><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

    </div>   
               
    <div data-bind="if: expanded">

        <ul class="nav nav-list" data-bind="foreach: contents">
                
            <!-- ko if: type() == 'folder' -->

                <li data-bind="template:{name:'template.folder', data:$data}" />
                
            <!-- /ko -->
                        
            <!-- ko if: type() == 'file' -->

                <li data-bind="template:{name:'template.file', data:$data}" />

            <!-- /ko -->
            
        </ul>

    </div>

</script>
   
<!-- FolderModel Template -->

<script type="text/html" id="template.folder">

    <div data-bind="if: loading">

        <!-- ko if: expanded() -->

        <a href="#" data-bind="click: toggle"><img class='icon-space' src="/public/views/editor/components/filetree/assets/preloader.gif" /><i class="icon-folder-open"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

        <!-- ko ifnot: expanded() -->

        <a href="#" data-bind="click: toggle"><img class='icon-space' src="/public/views/editor/components/filetree/assets/preloader.gif" /><i class="icon-folder-close"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

    </div>

    <div data-bind="ifnot: loading">
            
        <!-- ko if: expanded() -->

        <a href="#" data-toggle="context" data-target="#context-menu" data-bind="click: toggle"><i class="icon-chevron-down"></i><i class="icon-folder-open"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

        <!-- ko ifnot: expanded() -->

        <a href="#" data-toggle="context" data-target="#context-menu" data-bind="click: toggle"><i class="icon-chevron-right"></i><i class="icon-folder-close"></i><span data-bind="text:name"></span></a>     

        <!-- /ko -->

    </div>  
        
    <div data-bind="if: expanded">

        <ul class="nav nav-list" data-bind="foreach: contents">
                
            <!-- ko if: type() == 'folder' -->

                <li data-bind="template:{name:'template.folder', data:$data}" />
                
            <!-- /ko -->
                        
            <!-- ko if: type() == 'file' -->

                <li data-bind="template:{name:'template.file', data:$data}" />

            <!-- /ko -->
            
        </ul>

    </div>

	<div id="context-menu">

	    <ul class="dropdown-menu" role="menu">

            <li><a tabindex="-1" href="#">Expand</a></li>

            <li class="divider"></li>

            <li><a tabindex="-1" href="#">Cut</a></li>

            <li><a tabindex="-1" href="#">Copy</a></li>

            <li><a tabindex="-1" href="#">Delete</a></li>

            <li><a tabindex="-1" href="#">Paste</a></li>

	    </ul>

	</div>

</script>   

<!-- FileModel Template -->

<script type="text/html" id="template.file">

    <div data-bind="if: loading">

    <a href="#" data-toggle="context" data-target="#context-menu" data-bind="click: load"><img class='icon-space' src="/public/views/editor/components/filetree/assets/preloader.gif" /><i class="icon-file"></i><span data-bind="text:name"></span></a>

    </div>

    <div data-bind="ifnot: loading">

    <a href="#" data-toggle="context" data-target="#context-menu" data-bind="click: load"><i class="icon-space"></i><i class="icon-file"></i><span data-bind="text:name"></span></a>

    </div>

	<div id="Div1">

	    <ul class="dropdown-menu" role="menu">

            <li><a tabindex="-1" href="#">Open</a></li>

            <li class="divider"></li>

            <li><a tabindex="-1" href="#">Cut</a></li>

            <li><a tabindex="-1" href="#">Copy</a></li>

            <li><a tabindex="-1" href="#">Delete</a></li>

            <li><a tabindex="-1" href="#">Paste</a></li>

	    </ul>

	</div>

</script>    
    
<div class="well sidebar-nav">
        
    <ul class="nav nav-list" data-bind="foreach: tree().contents()">
            
        <!-- ko if: type() == 'storage' -->

            <li data-bind="template:{name:'template.storage', data:$data}" />
                
        <!-- /ko -->

        <!-- ko if: type() == 'folder' -->

            <li data-bind="template:{name:'template.folder', data:$data}" />
                
        <!-- /ko -->   
                                 
        <!-- ko if: type() == 'file' -->

            <li data-bind="template:{name:'template.file', data:$data}" />

        <!-- /ko -->
            
    </ul>

</div>