var calcium         = calcium || {};

calcium.api         = calcium.api || {};
 
calcium.api.headers =  {};

calcium.api.header  = function(name, value) {

	blam.api.headers[name] = JSON.stringify(value);

};

calcium.api.get = function(url, callback) {
 	$.ajax({
		url         :  url,
		type        : 'GET',
		dataType    : 'json',
		headers     : calcium.api.headers,
		contentType : 'application/json; charset=utf-8',
		success     : function (data) {
			calcium.api.headers =  {};
			if(callback) callback(data);
		}
	});
}

calcium.api.load = function(url, callback) {

    $.get(url, function(data) { callback(data); });
}

calcium.api.component = function ( selector, options, callback) {

    $.getScript(options.model, function(data, textStatus, jqxhr) {

        calcium.api.load(options.template, function(content){

            $(selector).html(content);

            callback();

        });
    });
}
