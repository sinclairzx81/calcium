@{ this.layout = '/layout.html' } 

@section scripts() {

    <script type="text/javascript" src="/static/script/jquery/jquery-1.10.1.min.js"></script>
    
    <script type="text/javascript" src="/static/script/knockoutjs/knockout-2.2.1.js"></script>

    <script type="text/javascript" src="/static/script/linq/linq.min.js"></script>
    
    <script type="text/javascript" src="/static/script/calcium/calcium.api.js"></script>

    <script type="text/javascript" src="/static/script/calcium/calcium.models.js"></script>
    
    <script type="text/javascript">
        
        function PageModel()
        {
            this.tree = ko.observable( new FolderModel('root', '/') );

            this.tree().load();
        }

        function initialize() 
        {    
            ko.applyBindings( new PageModel() );
        }
        
        $(document).ready(function(){ initialize(); });
        
    </script>

    <style type="text/css">

        .icon-space {
            display: inline-block;
            width: 14px;
            height: 14px;
            line-height: 14px;
            vertical-align: text-top;
            margin-top: 1px;
        }

    </style>

}

@section sidebar() {

     <script type="text/html" id="template.storage">

        <div data-bind="if: expanded">

            <a href="#" data-bind="click: toggle"><i class="icon-chevron-down"></i><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        </div>

        <div data-bind="ifnot: expanded">
            
            <a href="#" data-bind="click: toggle"><i class="icon-chevron-right"></i><i class="icon-hdd"></i><span data-bind="text:name"></span></a>     

        </div>  
              
        <div data-bind="if: expanded">

            <ul class="nav nav-list" data-bind="foreach: contents">
                
                <!-- ko if: type() == 'folder' -->

                    <li data-bind="template:{name:'template.folder', data:$data}" />
                
                <!-- /ko -->
                        
                <!-- ko if: type() == 'file' -->

                    <li data-bind="template:{name:'template.file', data:$data}" />

                <!-- /ko -->
            
            </ul>

        </div>

    </script>
   
    <script type="text/html" id="template.folder">

        <div data-bind="if: expanded">

            <a href="#" data-bind="click: toggle"><i class="icon-chevron-down"></i><i class="icon-folder-open"></i><span data-bind="text:name"></span></a>     

        </div>

        <div data-bind="ifnot: expanded">
            
            <a href="#" data-bind="click: toggle"><i class="icon-chevron-right"></i><i class="icon-folder-close"></i><span data-bind="text:name"></span></a>     

        </div>  
              
        <div data-bind="if: expanded">

            <ul class="nav nav-list" data-bind="foreach: contents">
                
                <!-- ko if: type() == 'folder' -->

                    <li data-bind="template:{name:'template.folder', data:$data}" />
                
                <!-- /ko -->
                        
                <!-- ko if: type() == 'file' -->

                    <li data-bind="template:{name:'template.file', data:$data}" />

                <!-- /ko -->
            
            </ul>

        </div>

    </script>   

    <script type="text/html" id="template.file">

        <div>

         <a href="#"><i class="icon-space"></i><i class="icon-file"></i><span data-bind="text:name"></span></a>

       </div>

    </script>    

    <div class="well sidebar-nav">
        
        <ul class="nav nav-list" data-bind="foreach: tree().contents()">
            
            <!-- ko if: type() == 'storage' -->

                <li data-bind="template:{name:'template.storage', data:$data}" />
                
            <!-- /ko -->

            <!-- ko if: type() == 'folder' -->

                <li data-bind="template:{name:'template.folder', data:$data}" />
                
            <!-- /ko -->   
                                 
            <!-- ko if: type() == 'file' -->

                <li data-bind="template:{name:'template.file', data:$data}" />

            <!-- /ko -->
            
        </ul>

    </div>
}

@section content() {

    <div class="tabbable"> <!-- Only required for left/right tabs -->

        <ul class="nav nav-tabs">

            <li class="active"><a href="#tab1" data-toggle="tab">Section 1</a></li>

            <li><a href="#tab2" data-toggle="tab">Section 2</a></li>

        </ul>

        <div class="tab-content">

            <div class="tab-pane active" id="tab1">

               <pre><code id="Code1">content here</code></pre>

            </div>

        <div class="tab-pane" id="tab2">

            <pre><code id="content">content here</code></pre>

        </div>

        </div>

    </div>  
    
}   